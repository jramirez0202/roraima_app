<div class="max-w-7xl lg:max-w-[90%] xl:max-w-[95%] mx-auto px-4 sm:px-6 lg:px-8"
     data-controller="bulk-packages"
     data-bulk-packages-translations-value='<%= status_translations_json %>'
     data-bulk-packages-badge-classes-value='<%= PackagesHelper::STATUS_BADGE_CLASSES.transform_keys(&:to_s).to_json %>'>
  <%# Header with title and action buttons %>
  <%= render 'header', pagy: @pagy %>

  <%# Status filter tabs %>
  <%= render 'status_tabs',
      status_counts: {
        total: @total_count,
        pending_pickup: @pending_pickup_count,
        in_warehouse: @in_warehouse_count,
        in_transit: @in_transit_count,
        rescheduled: @rescheduled_count,
        return: @return_count,
        delivered: @delivered_count,
        cancelled: @cancelled_count
      },
      current_status: params[:status] %>

  <%# Filters Panel - Accordion %>
  <%= render 'filters_panel' %>

  <%# Bulk action buttons %>
  <%= render 'bulk_actions' %>

  <%# Packages table %>
  <%= render 'table', packages: @packages, drivers: @drivers, pagy: @pagy %>

  <%# Bulk status change modal %>
  <%= render 'bulk_status_modal' %>
</div>
