<%
  # Expected local variables:
  # - packages: Collection of Package instances
  # - drivers: Collection of Driver users
  # - pagy: Pagy pagination object
%>

<div class="mt-8 flex flex-col">
  <div class="-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8">
    <div class="inline-block min-w-full py-2 align-middle md:px-6 lg:px-8">
      <div class="overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg">

        <%= form_tag generate_labels_admin_packages_path, method: :post, id: "labels-form" do %>

          <table class="min-w-full divide-y divide-gray-300 bg-white">
            <thead class="bg-gray-50">
              <tr>
                <th scope="col" class="px-3 py-3.5 text-left">
                  <input type="checkbox"
                         id="select-all"
                         data-bulk-packages-target="selectAll"
                         data-action="change->bulk-packages#toggleAll"
                         class="h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500">
                </th>
                <th class="px-3 py-2 text-left text-xs font-semibold text-gray-900 uppercase tracking-wider w-44">Estado</th>
                <th class="px-3 py-2 text-left text-xs font-semibold text-gray-900 uppercase tracking-wider">Tracking</th>
                <th class="px-3 py-2 text-left text-xs font-semibold text-gray-900 uppercase tracking-wider">Destinatario</th>
                <th class="px-3 py-2 text-left text-xs font-semibold text-gray-900 uppercase tracking-wider">Empresa</th>
                <th class="px-3 py-2 text-left text-xs font-semibold text-gray-900 uppercase tracking-wider">Teléfono</th>
                <th class="px-3 py-2 text-left text-xs font-semibold text-gray-900 uppercase tracking-wider">Dirección</th>
                <th class="px-3 py-2 text-left text-xs font-semibold text-gray-900 uppercase tracking-wider">Fecha Carga</th>
                <th class="px-3 py-2 text-left text-xs font-semibold text-gray-900 uppercase tracking-wider w-48">Conductor</th>
                <th class="px-3 py-2 text-center text-xs font-semibold text-gray-900 uppercase tracking-wider w-24">Acciones</th>
              </tr>
            </thead>

            <tbody class="divide-y divide-gray-200">
              <% packages.each do |package| %>
                <%= render 'package_row', package: package, drivers: drivers %>
              <% end %>
            </tbody>
          </table>

        <% end %>

        <%= render "shared/pagination", pagy: pagy %>

      </div>
    </div>
  </div>
</div>
