<!-- Modal de Cambio de Estado Masivo -->
<div id="bulk-status-modal" class="hidden fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true" data-bulk-packages-target="modal">
  <!-- Backdrop con Blur -->
  <div class="fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity"
       style="backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px);"
       aria-hidden="true"
       data-action="click->bulk-packages#closeModal"></div>

  <!-- Modal Container - Centrado -->
  <div class="fixed inset-0 flex items-center justify-center p-4 pointer-events-none">
    <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-2xl transition-all w-1/2 pointer-events-auto">

      <!-- Header -->
      <div class="bg-white px-6 pt-5 pb-4">
        <div class="flex items-start justify-between">
          <div class="flex items-center">
            <div class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-green-100 sm:mx-0 sm:h-10 sm:w-10">
              <svg class="h-6 w-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
              </svg>
            </div>
            <div class="ml-4">
              <h3 class="text-lg font-semibold leading-6 text-gray-900" id="modal-title">
                Cambiar estado masivo
              </h3>
              <p class="text-sm text-gray-500 mt-1">
                <span data-bulk-packages-target="selectedCount">0 paquetes seleccionados</span>
              </p>
            </div>
          </div>
          <button type="button" class="text-gray-400 hover:text-gray-500" data-action="click->bulk-packages#closeModal">
            <svg class="h-6 w-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Body -->
      <div class="bg-white px-6 pb-4">
        <!-- Status Selection Grid -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-3">
            Selecciona el nuevo estado
          </label>
          <div class="grid grid-cols-2 gap-3" data-bulk-packages-target="statusGrid">
            <!-- Status options will be inserted here by JavaScript -->
          </div>
          <p class="mt-2 text-xs text-gray-500">Haz clic en un estado para seleccionarlo</p>
        </div>
      </div>

      <!-- Footer -->
      <div class="bg-gray-50 px-6 py-4 flex flex-row-reverse gap-3">
        <button
          type="button"
          data-bulk-packages-target="applyBtn"
          data-action="click->bulk-packages#applyBulkChange"
          class="inline-flex justify-center rounded-md border border-transparent bg-green-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed"
          disabled>
          Aplicar cambio
        </button>
        <button
          type="button"
          data-action="click->bulk-packages#closeModal"
          class="inline-flex justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-sm font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2">
          Cancelar
        </button>
      </div>

    </div>
  </div>
</div>
